<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">

<head>
	<meta charset="ISO-8859-1">
	<link rel="stylesheet" type="text/css" href="/webjars/bootstrap/css/bootstrap.min.css" />
	<script type="text/javascript" src="/webjars/jquery/jquery.min.js"></script>
	<script type="text/javascript" src="/webjars/bootstrap/js/bootstrap.min.js"></script>
	<link rel="preconnect" href="https://fonts.googleapis.com">
	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link href="https://fonts.googleapis.com/css2?family=Ubuntu:ital,wght@0,300;0,400;0,700;1,300;1,700&display=swap"
		rel="stylesheet">
	<link rel="stylesheet" href="https://unpkg.com/leaflet@1.8.0/dist/leaflet.css"
		integrity="sha512-hoalWLoI8r4UszCkZ5kL8vayOGVae1oxXe/2A4AO6J9+580uKHDO3JdHb7NzwwzK5xr/Fs0W40kiNHxM9vyTtQ=="
		crossorigin="" />
	<script src="https://unpkg.com/leaflet@1.8.0/dist/leaflet.js"
		integrity="sha512-BB3hKbKWOc9Ez/TAwyWxNXeoV9c1v6FIeYiBieIWkpLjauysF18NzgR1MBNBXf8/KABdlkX68nAhlwcDFLGPCQ=="
		crossorigin=""></script>

	<!--Chart.js JS CDN-->
	<script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.9.4/Chart.min.js"></script>

	<link rel="stylesheet" type="text/css" href="css/navbar.css" />
	<style>
		* {
			font-family: 'Ubuntu', sans-serif;
		}
	</style>

</head>

<body>


	<title>CityGude</title>

	</head>


	<body>
		<section class="header">

			<h1>
				<img src="images/logo.jpg" width="80" height="80">CityGude
			</h1>

			<nav>



				<div class="nav-links">
					<ul>


						<li> <a href="charts">Charts</a>
						<li> <a href="map">Map</a>
						<li> <a href="users">List of Users</a>
						<li> <a href="index">Logout</a>
					</ul>
				</div>

			</nav>
			<div id="map"></div>

		</section>



		<div>
			<h1>List of TUDES</h1>
		</div>

		<div>
			<table id="myTableTudes" class="table table-striped table-bordered">
				<thead class="thead-dark">
					<tr>
						<th>Longitude</th>
						<th>Latitude</th>

					</tr>
				</thead>
				<tbody>


					<tr th:each="listLTude: ${listLTude}">
						<td th:text="${listLTude.longitude}"></td>
						<td th:text="${listLTude.latitude}"></td>

					</tr>
				</tbody>
			</table>
		</div>
		</div>

		<script>
			var table = document.getElementById("myTableTudes");
			var listTestlong = [];
			var listTestlat = [];
			console.log(table)
			for (var i = 1; i < table.rows.length; i++) {
				console.log(table)
				listTestlong.push(table.rows[i].cells[0].innerHTML);
				listTestlat.push(table.rows[i].cells[1].innerHTML);
			}

			document.getElementById("myTableTudes");
			console.log(listTestlong);
			console.log(listTestlat);


		</script>



		<script>


			let mapOptions = {
				center: [listTestlat[0], listTestlong[0]],
				zoom: 10
			}



			let map = new L.map('map', mapOptions);

			let layer = new L.TileLayer('http://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png');
			map.addLayer(layer);

			//let marker = new L.Marker([53,545, -113,491]);
			
			
			for (i = 0; i < listTestlat.length; i++) {
				let marker = new L.Marker([listTestlat[i], listTestlong[i]]);
				console.log(listTestlat[i])
				console.log(listTestlong[i])

				marker.addTo(map);
				console.log(map)

			}



		</script>


	</body>